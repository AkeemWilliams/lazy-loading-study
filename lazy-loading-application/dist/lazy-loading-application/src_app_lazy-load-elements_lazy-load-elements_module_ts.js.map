{"version":3,"mappings":"oQAIA,MAAMA,EAAiB,CAAC,CAAEC,KAAM,GAAIC,UCIpC,MAAM,QAOJC,YAAoBC,aANQC,sBAAkB,EAI9CA,eAAY,IAAIC,MAAM,GACtBD,eAAY,EAGZE,YAIDC,kBACC,MAAMC,EAAUJ,KAAKD,GAAGM,cAAcC,iBAAiB,OAEvDN,KAAKO,SAAW,IAAIC,qBAAqB,CAACC,EAASC,KACjDC,QAAQC,IAAIH,GACZA,EAAQI,QAAQC,IACd,GAAGA,EAAMC,eAAe,CAEtB,MAAMC,EAAMF,EAAMG,OACZC,EAAMF,EAAIG,aAAa,cAAgB,GAE7CH,EAAII,aAAa,MAAOF,GACxBF,EAAIK,UAAUC,IAAI,QAElBZ,EAAIa,UAAUT,EAAMG,YAIxB,CACFO,UAAU,IAGZpB,EAAQS,QAASI,IACfjB,KAAKO,SAASkB,QAAQR,mDApCXS,GAAyBC,uCAAzBD,EAAyBE,mwECRtCD,aAAGA,qCAAyBA,QAE5BA,iBACIA,iBACAA,iBACAA,iBACAA,iBACAA,iBACAA,iBACAA,iBACAA,kBACAA,kBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACAA,mBACFA,wgBDhBWD,GAAb,KDEO,IAAMG,EAAb,MAAM,sDAAOA,4DAHF,CAACC,cAAsBnC,IACtBmC,QAECD,GAAb,GGMaE,EAAb,MAAM,sDAAOA,4DALF,CACPC,KACAH,MAGSE,GAAb","names":["routes","path","component","constructor","el","this","Array","ngOnInit","ngAfterViewInit","targets","nativeElement","querySelectorAll","observer","IntersectionObserver","entries","obs","console","log","forEach","entry","isIntersecting","img","target","src","getAttribute","setAttribute","classList","add","unobserve","threshold","observe","LazyLoadElementsComponent","i0","selectors","LazyLoadElementsRoutingModule","RouterModule","LazyLoadElementsModule","CommonModule"],"sources":["./src/app/lazy-load-elements/lazy-load-elements-routing.module.ts","./src/app/lazy-load-elements/lazy-load-elements.component.ts","./src/app/lazy-load-elements/lazy-load-elements.component.html","./src/app/lazy-load-elements/lazy-load-elements.module.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { LazyLoadElementsComponent } from './lazy-load-elements.component';\n\nconst routes: Routes = [{ path: '', component: LazyLoadElementsComponent }];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LazyLoadElementsRoutingModule { }\n","import { AfterViewInit, Component, ElementRef, HostBinding, OnInit, ViewEncapsulation } from '@angular/core';\n\n@Component({\n  selector: 'app-lazy-load-elements',\n  templateUrl: './lazy-load-elements.component.html',\n  styleUrls: ['./lazy-load-elements.component.scss'],\n  encapsulation:ViewEncapsulation.None\n})\nexport class LazyLoadElementsComponent implements OnInit,AfterViewInit {\n  @HostBinding('class.green') isVisibleInView = false;\n  observer!: IntersectionObserver;\n\n\n  arrayTest = new Array(5);\n  testCount = 4;\n  constructor(private el: ElementRef) { }\n\n  ngOnInit(): void {\n\n  }\n  \n ngAfterViewInit():void{\n  const targets = this.el.nativeElement.querySelectorAll('img');\n\n  this.observer = new IntersectionObserver((entries, obs)=>{\n    console.log(entries);\n    entries.forEach(entry =>{\n      if(entry.isIntersecting){\n\n        const img = entry.target;\n        const src = img.getAttribute('data-lazy') || \"\";\n\n        img.setAttribute('src', src);\n        img.classList.add('fade');\n\n        obs.unobserve(entry.target)\n      }\n    })\n\n  },{\n  threshold:0\n});\n //this.observer.observe(target);\ntargets.forEach((target: Element) => {\n  this.observer.observe(target)})\n }\n\n}\n","<p>lazy-load-elements works!</p>\n\n<div class=\"container\">\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/400/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/401/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/402/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/403/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/404/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/405/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/406/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/407/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/408/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/409/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/410/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/411/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/412/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/413/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/414/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/415/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/416/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/417/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/418/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/419/400/400\" height=\"400\" width=\"400\" />\n    <img loading=\"lazy\" data-lazy=\"https://picsum.photos/seed/420/400/400\" height=\"400\" width=\"400\" />\n  </div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\n\nimport { LazyLoadElementsRoutingModule } from './lazy-load-elements-routing.module';\nimport { LazyLoadElementsComponent } from './lazy-load-elements.component';\n\n\n@NgModule({\n  declarations: [\n    LazyLoadElementsComponent\n  ],\n  imports: [\n    CommonModule,\n    LazyLoadElementsRoutingModule\n  ]\n})\nexport class LazyLoadElementsModule { }\n"],"sourceRoot":"webpack:///","file":"src_app_lazy-load-elements_lazy-load-elements_module_ts.js"}